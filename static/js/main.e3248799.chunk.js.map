{"version":3,"sources":["stores/jobDispatcher.js","stores/JobParameters.js","utils/ActionDelayer.js","components/SequenceInput.js","components/Cite.js","components/SequenceStatus.js","components/SequenceHighlighter.js","utils/Graphics.js","components/FeatureViewer/FeatureViewer.js","components/Features.js","components/EmbedderSelecter.js","components/App.js","serviceWorker.js","stores/analyticsPageMiddleware.js","stores/index.js","index.js"],"names":["connect","_ref","jobParameters","dispatch","bindActionCreators","action","a","status","INVALID","LOADING","NULL","MULTIPLESEQUENCES","FASTA","AA","UNIPROT","isValid","incomingStatus","needsIndexing","initial","proteinStatus","protein","undefined","embedder","JobParameters","state","arguments","length","type","Object","objectSpread","payload","GLOBAL_TTE","actions","SequenceInput","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","loadSequence","event","fillerProtein","Protein","setUniprotData","accession","setState","proteinSequenceInput","jobParametersAction","proteinStatusAction","handleChange","bind","assertThisInitialized","deleyedKeyUp","_this2","textInput","retrievingFunction","autodetect","then","_ref2","slicedToArray","proteins","uniprotData","parser","validInput","parsers","fasta","protein_name","aa","console","error","catch","e","signature","TTE","target","value","clearTimeout","setTimeout","classes","react_default","createElement","Paper_default","square","elevation","className","paper","core_Typography_default","variant","container","noValidate","autoComplete","TextField_default","id","multiline","data-gramm_editor","textField","onChange","margin","autoFocus","component","classnames","underline","onClick","React","Component","storeComponentWrapper","withStyles","theme","display","flexWrap","width","height","mixins","gutters","paddingTop","paddingBottom","textDecoration","Cite","root","title","href","ref","overflowX","spacing","unit","paddingLeft","paddingRight","cursor","textAlign","topSpace","SequenceStatus","nextProps","grid","avatar","Avatar_default","greenAvatar","Check_default","content","color","rel","CardHeader_default","subheader","redAvatar","Close_default","CircularProgress_default","grayLoading","orangeAvatar","InfoOutlined_default","backgroundColor","green","red","orange","alignItems","flex","marginRight","SequenceHighlighter","get10mersAsReactComponents","string","replace","toUpperCase","split","filter","Boolean","map","ten_emer","position","pos","key","style","slice","toConsumableArray","letter","border","fontSize","borderStyle","borderColor","proteinColorScheme","breakMersAsReactComponents","reactComponentsArray","size","newArr","push","splice","elements","selected","region","highlightOnClick","newProps","proteinColorSchemes","dssp8","primary","+","G","H","I","B","E","S","T","C","contrast","disorder","-","X","mview",".","A","V","L","M","F","Y","W","P","K","R","D","Q","N","Z","?","*","U","FeatureViewer","findIndexes","letters","result","j","indices","i","findRanges","array","sort","ranges","x","y","currentRange","data","ft","window","sequence","showAxis","showSequence","brushActive","toolbar","bubbleHelp","zoomMax","clearInstance","document","getElementById","innerHTML","predictedDisorder","addFeature","name","predictedDSSP3","secondaryStructure3","minHeight","ULR","placeholder","predictedSubcellularLocalizations","predictedMembrane","predictedBPO","predictedBPOGraphDataString","predictedCCO","predictedCCOGraphDataString","predictedMFO","predictedMFOGraphDataString","predictedDSSP8","Features","getFeatures","loading","features","fetch","method","mode","cache","credentials","headers","Content-Type","redirect","referrer","body","JSON","stringify","format","model","response","json","predictedMFOGraphData","keys","forEach","score","newValue","fill","encodeURIComponent","predictedCCOGraphData","predictedBPOGraphData","filler","Grid_default","item","xs","Typography_default","text","titles","sequenceHighlighter","components_SequenceHighlighter","md","xl","toFixed","components_FeatureViewer_FeatureViewer","ExpansionPanel_default","ExpansionPanelSummary_default","expandIcon","ExpandMore_default","expansionPanels","ExpansionPanelDetails_default","constrainedPaper","minWidth","EmbedderSelecter","RadioGroup_default","aria-label","group","FormControlLabel_default","control","Radio_default","label","labelPlacement","flexDirection","justifyContent","uniprotRegex","App","query","valid","ready","timeout","onQueryChange","test","onInputChange","search","marginTop","marginBottom","components_EmbedderSelecter","components_SequenceInput","components_SequenceStatus","components_Features","components_Cite","attribution","maxWidth","fadingComponents","transition","location","hostname","match","options","currentPage","reducer","combineReducers","store","createStore","applyMiddleware","getState","next","ReactGa","category","nextPage","concat","pathname","page","ReactGA","set","pageview","initialize","process","REACT_GA","ReactDOM","render","es","MuiThemeProvider_default","components_App","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.e3248799.chunk.js","sourcesContent":["import { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nconst mapStateToProps = ({ jobParameters }) =>\n    ({ jobParameters });\n\nconst mapDispatchToProps = function (dispatch) {\n    return bindActionCreators({\n        action: (a) => {\n            return a\n        },\n    }, dispatch)\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps);","const status = {\n    INVALID: 0,\n    LOADING: 2,\n    NULL: 3,\n\n    // Protein input type\n    MULTIPLESEQUENCES: 4,\n    FASTA: 5,\n    AA: 6,\n    UNIPROT: 7,\n\n    isValid: (incomingStatus) => {\n        return incomingStatus === status.UNIPROT || incomingStatus === status.AA || incomingStatus === status.FASTA ||\n            incomingStatus === status.MULTIPLESEQUENCES\n    },\n    needsIndexing: (incomingStatus) => {\n        return incomingStatus === status.AA || incomingStatus === status.FASTA || incomingStatus === status.MULTIPLESEQUENCES\n    },\n};\n\nconst initial = {\n    // sequenceInput component\n    proteinStatus: status.NULL,\n    protein: undefined,\n    embedder: \"seqvec\"\n};\n\n\nfunction JobParameters(state = initial, action) {\n    switch (action.type) {\n        case 'SET_PROTEIN_STATUS':\n            return {\n                ...state,\n                proteinStatus: action.payload.proteinStatus\n            };\n        case 'SET_PROTEIN_OBJECT':\n            return {\n                ...state,\n                protein: action.payload.protein\n            };\n        case 'SET_JOB_PARAMETERS':\n            return {\n                ...state,\n                ...action.payload\n            };\n        case 'RESET_JOB_SUBMISSION':\n            return initial;\n\n        default:\n            return state;\n    }\n}\n\nexport default JobParameters;\n\nexport const proteinStatus = status;","/***\n *\n * The purpose of this file is to expose functions that allow for a certain action (a function) to happen at a delayed point in time.\n *\n * Actions are be rewritable, meaning that: if an action with the same signature is enqueued for execution,\n * it will cancel the execution of the previous enqueued action with the same signature.\n *\n * In other words: it is a collection of single-slot queues.\n */\n\n\n// Time elapsing in ms before an action is taken\nconst GLOBAL_TTE = 1000;\n\nlet actions = {};\n\n\n/***\n *\n * @param signature: unique key representing request\n * @param action: a function\n * @param TTE: time to execute in MS\n */\nexport default function delay(signature, action, TTE) {\n    if (actions[signature] !== null) {\n        clearTimeout(actions[signature]);\n    }\n\n    actions[signature] = setTimeout(() => {\n        action()\n    }, TTE || GLOBAL_TTE);\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { Protein, autodetect, validInput, parsers } from 'protein-parser';\nimport storeComponentWrapper from '../stores/jobDispatcher'\nimport {proteinStatus} from \"../stores/JobParameters\";\nimport delay from \"../utils/ActionDelayer\";\nimport classnames from 'classnames';\n\nconst styles = theme => ({\n    container: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    textField: {\n        width: \"100%\",\n        height: \"100%\"\n    },\n    paper: theme.mixins.gutters({\n        paddingTop: 16,\n        paddingBottom: 16\n    }),\n    underline: {\n        textDecoration: \"underline\"\n    }\n});\n\nclass SequenceInput extends React.Component {\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            proteinSequenceInput: ''\n        };\n\n        this.proteinStatusAction = \"SET_PROTEIN_STATUS\";\n        this.jobParametersAction = \"SET_JOB_PARAMETERS\";\n\n        this.handleChange = this.handleChange.bind(this);\n        this.deleyedKeyUp = this.deleyedKeyUp.bind(this);\n    }\n\n    componentWillUnmount(){\n        this.props.action({\n            type: \"RESET_JOB_SUBMISSION\"\n        });\n    }\n\n    handleChange() {\n        let textInput = this.state.proteinSequenceInput;\n\n        if(textInput.length < 3){\n            this.props.action({\n                type: this.proteinStatusAction,\n                payload: {\n                    proteinStatus: proteinStatus.INVALID\n                }\n            });\n            return;\n        }\n\n        // It's going to be !== undefined only if a valid sequence or UniProt accession\n        let retrievingFunction = autodetect(textInput);\n\n        if(retrievingFunction !== undefined){\n            retrievingFunction(textInput)\n                .then(([proteins, _]) => {\n                    if(proteins.length > 1 && proteins[0] !== undefined){\n                        if(proteins[0].uniprotData !== undefined){\n                            this.props.action({\n                                type: this.jobParametersAction,\n                                payload: {\n                                    protein: proteins[0],\n                                    proteinStatus: proteinStatus.UNIPROT\n                                }\n                            });\n                        } else {\n                            this.props.action({\n                                type: this.jobParametersAction,\n                                payload: {\n                                    protein: proteins[0],\n                                    proteinStatus: proteinStatus.MULTIPLESEQUENCES\n                                }\n                            });\n                        }\n                    } else if(proteins[0] !== undefined){\n\n                        let parser = validInput(textInput);\n\n                        if(parser === parsers.accession){\n                            this.props.action({\n                                type: this.jobParametersAction,\n                                payload: {\n                                    protein: proteins[0],\n                                    proteinStatus: proteinStatus.UNIPROT\n                                }\n                            });\n                        } else if(parser === parsers.fasta){\n                            if(proteins[0].uniprotData !== undefined){\n                                this.props.action({\n                                    type: this.jobParametersAction,\n                                    payload: {\n                                        protein: proteins[0],\n                                        proteinStatus: proteinStatus.UNIPROT\n                                    }\n                                });\n                            } else {\n                                this.props.action({\n                                    type: this.jobParametersAction,\n                                    payload: {\n                                        protein: proteins[0],\n                                        proteinStatus: proteinStatus.FASTA\n                                    }\n                                });\n                            }\n                        } else if(parser === parsers.protein_name){\n                            this.props.action({\n                                type: this.jobParametersAction,\n                                payload: {\n                                    protein: proteins[0],\n                                    proteinStatus: proteinStatus.UNIPROT\n                                }\n                            });\n                        } else if(parser === parsers.aa){\n                            this.props.action({\n                                type: this.jobParametersAction,\n                                payload: {\n                                    protein: proteins[0],\n                                    proteinStatus: proteinStatus.AA\n                                }\n                            });\n                        } else {\n                            console.error(\"Unexpected error when validating protein retrieving function\");\n                            this.props.action({\n                                type: \"SET_PROTEIN_STATUS\",\n                                payload: {\n                                    proteinStatus: proteinStatus.INVALID\n                                }\n                            });\n                        }\n                    } else {\n\n                        this.props.action({\n                            type: this.jobParametersAction,\n                            payload: {\n                                proteinStatus: proteinStatus.INVALID\n                            }\n                        });\n                    }\n                })\n                .catch((e) => {\n                    console.error(e);\n\n                    this.props.action({\n                        type: this.jobParametersAction,\n                        payload: {\n                            proteinStatus: proteinStatus.INVALID\n                        }\n                    });\n                });\n        } else {\n            this.props.action({\n                type: this.jobParametersAction,\n                payload: {\n                    proteinStatus: proteinStatus.INVALID\n                }\n            });\n        }\n    }\n\n    loadSequence = type => event => {\n        let fillerProtein =  new Protein(\"MALLHSARVLSGVASAFHPGLAAAASARASSWWAHVEMGPPDPILGVTEAYKRDTNSKKMNLGVGAYRDDNGKPYVLPSVRKAEAQIAAKGLDKEYLPIGGLAEFCRASAELALGENSEVVKSGRFVTVQTISGTGALRIGASFLQRFFKFSRDVFLPKPSWGNHTPIFRDAGMQLQSYRYYDPKTCGFDFTGALEDISKIPEQSVLLLHACAHNPTGVDPRPEQWKEIATVVKKRNLFAFFDMAYQGFASGDGDKDAWAVRHFIEQGINVCLCQSYAKNMGLYGERVGAFTVICKDADEAKRVESQLKILIRPMYSNPPIHGARIASTILTSPDLRKQWLQEVKGMADRIIGMRTQLVSNLKKEGSTHSWQHITDQIGMFCFTGLKPEQVERLTKEFSIYMTKDGRISVAGVTSGNVGYLAHAIHQVTK\");\n\n        fillerProtein.setUniprotData({\n            accession: \"P12345\"\n        });\n\n        switch (type) {\n            case 'fasta':\n                this.setState({\n                    proteinSequenceInput: `>My sequence\nMALLHSARVLSGVASAFHPGLAAAASARASSWWAHVEMGPPDPILGVTEAYKRDTNSKKM\nNLGVGAYRDDNGKPYVLPSVRKAEAQIAAKGLDKEYLPIGGLAEFCRASAELALGENSEV\nVKSGRFVTVQTISGTGALRIGASFLQRFFKFSRDVFLPKPSWGNHTPIFRDAGMQLQSYR\nYYDPKTCGFDFTGALEDISKIPEQSVLLLHACAHNPTGVDPRPEQWKEIATVVKKRNLFA\nFFDMAYQGFASGDGDKDAWAVRHFIEQGINVCLCQSYAKNMGLYGERVGAFTVICKDADE\nAKRVESQLKILIRPMYSNPPIHGARIASTILTSPDLRKQWLQEVKGMADRIIGMRTQLVS\nNLKKEGSTHSWQHITDQIGMFCFTGLKPEQVERLTKEFSIYMTKDGRISVAGVTSGNVGY\nLAHAIHQVTK`,\n                });\n                this.props.action({\n                    type: this.jobParametersAction,\n                    payload: {\n                        proteinStatus: proteinStatus.FASTA,\n                        protein: fillerProtein\n                    }\n                });\n                break;\n\n            case 'aa':\n                this.setState({\n                    proteinSequenceInput: \"MALLHSARVLSGVASAFHPGLAAAASARASSWWAHVEMGPPDPILGVTEAYKRDTNSKKMNLGVGAYRDDNGKPYVLPSVRKAEAQIAAKGLDKEYLPIGGLAEFCRASAELALGENSEVVKSGRFVTVQTISGTGALRIGASFLQRFFKFSRDVFLPKPSWGNHTPIFRDAGMQLQSYRYYDPKTCGFDFTGALEDISKIPEQSVLLLHACAHNPTGVDPRPEQWKEIATVVKKRNLFAFFDMAYQGFASGDGDKDAWAVRHFIEQGINVCLCQSYAKNMGLYGERVGAFTVICKDADEAKRVESQLKILIRPMYSNPPIHGARIASTILTSPDLRKQWLQEVKGMADRIIGMRTQLVSNLKKEGSTHSWQHITDQIGMFCFTGLKPEQVERLTKEFSIYMTKDGRISVAGVTSGNVGYLAHAIHQVTK\",\n                });\n                this.props.action({\n                    type: this.jobParametersAction,\n                    payload: {\n                        proteinStatus: proteinStatus.AA,\n                        protein: fillerProtein\n                    }\n                });\n                break;\n\n            case 'accession':\n                this.setState({\n                    proteinSequenceInput: \"P12345\",\n                });\n                this.props.action({\n                    type: this.jobParametersAction,\n                    payload: {\n                        proteinStatus: proteinStatus.UNIPROT,\n                        protein: fillerProtein\n                    }\n                });\n                break;\n            case 'protein_name':\n                this.setState({\n                    proteinSequenceInput: \"AATM_RABIT\",\n                });\n                this.props.action({\n                    type: this.jobParametersAction,\n                    payload: {\n                        proteinStatus: proteinStatus.UNIPROT,\n                        protein: fillerProtein\n                    }\n                });\n                break;\n            default:\n                break;\n        }\n    };\n\n    deleyedKeyUp(event) {\n\n        this.setState({\n            proteinSequenceInput: event.target.value\n        });\n\n        if(this.props.jobParameters.proteinStatus !== proteinStatus.LOADING){\n            this.props.action({\n                type: this.proteinStatusAction,\n                payload: {\n                    proteinStatus: proteinStatus.LOADING\n                }\n            });\n        }\n\n        delay(\"SEQUENCE_INPUT_CHANGE\", this.handleChange, 1000);\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Paper square elevation={2} className={classes.paper}>\n                <Typography variant=\"h6\">\n                    Sequence:\n                </Typography>\n                <form className={classes.container} noValidate autoComplete=\"off\">\n                    <TextField\n                        id=\"proteinSequenceInput\"\n                        multiline\n                        data-gramm_editor={false}\n                        className={classes.textField}\n                        value={this.state.proteinSequenceInput}\n                        onChange={this.deleyedKeyUp}\n                        margin=\"normal\"\n                        autoFocus\n                    />\n                </form>\n                <Typography component={\"div\"} variant=\"body1\">\n                    {'Sequence can be in '}\n                    <strong className={classnames(\"pointer\", classes.underline)} onClick={this.loadSequence('fasta')}>{\"FASTA format\"}</strong>\n                    {', a '}\n                    <strong className={classnames(\"pointer\", classes.underline)} onClick={this.loadSequence('accession')}>{\"UniProt Accession\"}</strong>\n                    {' number or '}\n                    <strong className={classnames(\"pointer\", classes.underline)} onClick={this.loadSequence('protein_name')}>{\"UniProt Protein Name\"}</strong>\n                    {', or  '}\n                    <strong className={classnames(\"pointer\", classes.underline)} onClick={this.loadSequence('aa')}>{\"AA sequence\"}</strong>\n                    .\n                </Typography>\n                <Typography component={\"div\"} variant=\"caption\">\n                    Click the bold text for examples.\n                </Typography>\n            </Paper>\n        );\n    }\n}\n\nSequenceInput.propTypes = {\n    action: PropTypes.func,\n    classes: PropTypes.object.isRequired,\n    jobParameters: PropTypes.object\n};\n\nexport default storeComponentWrapper(withStyles(styles)(SequenceInput));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = theme => ({\n    root: {\n        overflowX: 'auto',\n        paddingBottom: theme.spacing.unit,\n        paddingLeft: theme.spacing.unit*5,\n        paddingRight: theme.spacing.unit*5\n    },\n    underline: {\n        textDecoration: \"underline\",\n        cursor: \"pointer\"\n    },\n    title: {\n        textAlign: \"center\",\n        paddingTop: theme.spacing.unit\n    },\n    topSpace: {\n        paddingTop: theme.spacing.unit*2,\n        paddingBottom: theme.spacing.unit\n\n    }\n});\n\nclass Cite extends React.Component {\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Paper className={classes.root}>\n                <Typography className={classes.title} variant={\"h6\"}>\n                    Cite & Resources\n                </Typography>\n                <Typography variant={\"body2\"}>\n                    bio_embeddings: python package & pipeline for embedding generation:\n                </Typography>\n                <Typography>\n                    This package includes the webserver serving this site, as well as scripts and pipelines to compute predictions for your sequences offline & in batch. Link: <a href={\"https://github.com/sacdallago/bio_embeddings\"} target={\"_blank\"} ref={\"author\"}>https://github.com/sacdallago/bio_embeddings</a>.\n                    <br/>\n                    <br/>\n                    Dallago, C. Schütze, K. Heinzinger, M. Olenyi, T. Littmann, M. Lu, A. X. Yang, K. K. Min, S. Yoon, S. Morton, J. T. Rost, B. Learned Embeddings from Deep Learning to Visualize and Predict Protein Sets. Current Protocols in Bioinformatics 2021. https://doi.org/10.1002/cpz1.113.                </Typography>\n                <br/>\n                <Typography variant={\"body2\"}>\n                    Subcellular location and membrane permeability for ProtBert and ProtT5 calculated via Light Attention:\n                </Typography>\n                <Typography>\n                    COMING <a target={\"_blank\"} ref={\"author\"} href={\"https://doi.org/COMING\"}>https://doi.org/COMING</a>\n                </Typography>\n                <br/>\n                <Typography variant={\"body2\"}>\n                    GO annotations are predicted using GoPredSim:\n                </Typography>\n                <Typography>\n                    We transfer annotations from proteins with known GO terms to query sequences via embedding distance.\n                    To do so, we embed all sequences in a lookup database of proteins with known GO annotations as well as the given query sequence via SeqVec (see below) and calculate Euclidean distances between all embeddings.\n                    We then pick the closest annotated embedding to the query sequence embedding.\n                    Lastly, we convert the Euclidean distance to a Reliability Index (RI) ranging from 0 (weak prediction) to 1 (confident prediction). Our observations suggest that RI values above 0.35 for BPO, 0.28 for MFO, and 0.29 CCO lead to reliable results.\n                    <br/>\n                    <br/>\n                    Littmann, M., Heinzinger, M., Dallago, C. et al. Embeddings from deep learning transfer GO annotations beyond homology. Sci Rep 11, 1160 (2021). <a target={\"_blank\"} ref={\"author\"} href={\"https://doi.org/10.1038/s41598-020-80786-0\"}>https://doi.org/10.1038/s41598-020-80786-0</a>\n                    <br/>\n                    Code: <a href={\"https://github.com/Rostlab/goPredSim\"} target={\"_blank\"} ref={\"author\"}>https://github.com/Rostlab/goPredSim</a>\n                </Typography>\n                <br/>\n                <Typography variant={\"body2\"}>\n                    Embeddings & secondary structure & subcellular location predictions on this website are calculated using models presented in:\n                </Typography>\n                <Typography>\n                    Heinzinger, M., Elnaggar, A., Wang, Y. et al. Modeling aspects of the language of life through transfer-learning protein sequences. BMC Bioinformatics 20, 723 (2019). <a target={\"_blank\"} ref={\"author\"} href={\"https://doi.org/10.1186/s12859-019-3220-8\"}>https://doi.org/10.1186/s12859-019-3220-8</a>\n                </Typography>\n                <br/>\n                <Typography>\n                     Elnaggar, A., Heinzinger, M., Dallago, C., et al. ProtTrans: Towards Cracking the Language of Life's Code Through Self-Supervised Deep Learning and High Performance Computing. Arxiv (2020). <a target={\"_blank\"} ref={\"author\"} href={\"https://arxiv.org/abs/2007.06225\"}>https://arxiv.org/abs/2007.06225</a>\n                </Typography>\n            </Paper>\n        );\n    }\n}\n\nCite.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Cite);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport storeComponentWrapper from '../stores/jobDispatcher';\nimport { proteinStatus } from \"../stores/JobParameters\";\nimport Paper from '@material-ui/core/Paper';\nimport Avatar from '@material-ui/core/Avatar';\nimport Check from '@material-ui/icons/Check';\nimport Close from '@material-ui/icons/Close';\nimport Info from '@material-ui/icons/InfoOutlined';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Typography from '@material-ui/core/Typography';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport green from '@material-ui/core/colors/green';\nimport red from '@material-ui/core/colors/red';\nimport orange from '@material-ui/core/colors/orange';\n\nconst styles = theme => ({\n    greenAvatar: {\n        margin: 10,\n        color: '#fff',\n        backgroundColor: green[500],\n    },\n    redAvatar: {\n        margin: 10,\n        color: '#fff',\n        backgroundColor: red[500],\n    },\n    orangeAvatar: {\n        margin: 10,\n        color: '#fff',\n        backgroundColor: orange[500],\n    },\n    grayLoading: {\n        margin: 10,\n        color: '#aeaeae',\n        backgroundColor: 'inherit'\n    },\n    grid: theme.mixins.gutters({\n        display: 'flex',\n        alignItems: 'center',\n        paddingTop: theme.spacing.unit * 2,\n        paddingBottom: theme.spacing.unit * 2,\n    }),\n    avatar: {\n        flex: '0 0 auto',\n        marginRight: theme.spacing.unit * 2,\n    },\n    content: {\n        flex: '1 1 auto',\n    },\n});\n\n\nclass SequenceStatus extends React.Component {\n\n    constructor(props){\n        super(props);\n\n\n        this.state = {\n            proteinStatus: this.props.jobParameters.proteinStatus || proteinStatus.NULL,\n        };\n\n    }\n\n    componentWillReceiveProps(nextProps) {\n\n        let jobParameters = nextProps.jobParameters;\n\n        this.setState({\n            proteinStatus: jobParameters.proteinStatus,\n            protein: jobParameters.protein\n        })\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        switch (this.state.proteinStatus) {\n            case proteinStatus.UNIPROT:\n                return (<Paper square elevation={2} >\n                    <div className={classes.grid}>\n                        <div className={classes.avatar}>\n                            <Avatar className={classes.greenAvatar}>\n                                <Check />\n                            </Avatar>\n                        </div>\n                        <div className={classes.content}>\n                            <Typography variant={\"body2\"}\n                                        component=\"div\"\n                                        color=\"textSecondary\">\n                                Valid identifier passed. The sequence from {' '}\n                                <a\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                    href={\"https://uniprot.org/uniprot/\" + (this.state.protein && this.state.protein.uniprotData ? this.state.protein.uniprotData.accession : \"P12345\")}>\n                                    {(this.state.protein && this.state.protein.uniprotData ? this.state.protein.uniprotData.accession : \"P12345\")}\n                                </a>\n                                {' '} will be used.\n                            </Typography>\n                        </div>\n                    </div>\n                </Paper>);\n            case proteinStatus.AA:\n            case proteinStatus.FASTA:\n                return (<Paper square elevation={2} >\n                    <CardHeader\n                        avatar={\n                            <Avatar className={classes.greenAvatar}>\n                                <Check />\n                            </Avatar>\n                        }\n                        subheader=\"Valid sequence passed.\"\n                    />\n                </Paper>);\n            case proteinStatus.INVALID:\n                return (<Paper square elevation={2} >\n                    <CardHeader\n                        avatar={\n                            <Avatar className={classes.redAvatar}>\n                                <Close />\n                            </Avatar>\n                        }\n                        subheader=\"Sorry, but it was not possible to identify your sequence or identifier.\"\n                    />\n                </Paper>);\n            case proteinStatus.LOADING:\n                return (<Paper square elevation={2} >\n                    <CardHeader\n                        avatar={\n                            <CircularProgress className={classes.grayLoading}/>\n                        }\n                        subheader=\"Checking validity.\"\n                    />\n                </Paper>);\n            case proteinStatus.MULTIPLESEQUENCES:\n                return (<Paper square elevation={2} >\n                    <CardHeader\n                        avatar={\n                            <Avatar className={classes.orangeAvatar}>\n                                <Check />\n                            </Avatar>\n                        }\n                        subheader=\"You inputted valid sequences, but only the first sequence will be considered.\"\n                    />\n                </Paper>);\n            default:\n                return <Paper square elevation={2} >\n                    <CardHeader\n                        avatar={\n                            <Avatar className={classes.grayLoading}>\n                                <Info />\n                            </Avatar>\n                        }\n                        subheader=\"Input a sequence to start!\"\n                    />\n                </Paper>\n        }\n    }\n}\n\nSequenceStatus.propTypes = {\n    classes: PropTypes.object.isRequired,\n    jobParameters: PropTypes.object\n};\n\nexport default storeComponentWrapper(withStyles(styles)(SequenceStatus));","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass SequenceHighlighter extends React.Component {\n\n    constructor(props){\n        super();\n\n        this.props = props;\n\n        this.state = {\n            selected: undefined,\n            region: [0,0],\n            highlightOnClick: false,\n            ...props\n        };\n    }\n\n    componentWillReceiveProps(newProps){\n        this.setState({\n            ...newProps\n        })\n    }\n\n    get10mersAsReactComponents = (string) => {\n        return string\n        // Remove spaces\n            .replace(/\\s/g,\"\")\n            // Make upper case\n            .toUpperCase()\n            // Split in 10-emers composed by letters\n            .split(/([A-Z|\\-|+]{10})/gm)\n            // Filter only populated 10-emers\n            .filter(Boolean)\n            // Append number to every 10-emer\n            .map( (ten_emer, position) => {\n                let pos = (position*10)+1;\n                return <span key={pos} style={{display: \"flex\"}}>\n                    <pre style={{margin:0}}>{\"      \".slice((\"\"+pos).length-6,6) + pos + ' '}</pre>\n                    {[...ten_emer].map((letter, position) => {\n\n                        let style = {\n                            margin:0,\n                            border: 0,\n                            fontSize: \"1.2rem\",\n                            borderStyle: \"solid\",\n                            borderColor: \"transparent\",\n                        };\n\n                        style.backgroundColor = this.state.proteinColorScheme['contrast'][letter];\n                        style.color = this.state.proteinColorScheme['primary'][letter];\n                        // style.borderStyle = \"solid\";\n\n                        return <pre style={style} key={position}>{letter}</pre>})}\n                </span>\n            })\n    };\n\n\n    breakMersAsReactComponents = (reactComponentsArray, size=1) => {\n        let newArr = [];\n        while(reactComponentsArray.length) newArr.push(reactComponentsArray.splice(0,size));\n\n        return newArr.map((elements, position) => <div key={position}>\n            {elements.map(e => e)}\n        </div>);\n    };\n\n    render() {\n        const { string } = this.props;\n\n        return (\n            <div style={{display: \"flex\", flexWrap: \"wrap\"}}>\n                {this.breakMersAsReactComponents(this.get10mersAsReactComponents(string)).map(e => e)}\n            </div>\n        )\n    }\n}\n\n\nSequenceHighlighter.propTypes = {\n    string: PropTypes.string.isRequired,\n    proteinColorScheme: PropTypes.object.isRequired\n};\n\nexport default SequenceHighlighter;","export const proteinColorSchemes = {\n    dssp8: {\n        primary : {\n            // placeholder\n            '+':'#ededed',\n\n            'G':'#ededed',\n            'H':'#ededed',\n            'I':'#ededed',\n            'B':'#ededed',\n            'E':'#ededed',\n            'S':'#ededed',\n            'T':'#ededed',\n            'C':'#ededed',\n        },\n        contrast : {\n            // placeholder\n            '+':'#ededed',\n\n            'G':'#8ad970',\n            'H':'#ccd96a',\n            'I':'#d99657',\n            'B':'#d95633',\n            'E':'#d958aa',\n            'S':'#6d3bd9',\n            'T':'#3f54d9',\n            'C':'#4cd9c2',\n        }\n    },\n    disorder: {\n        primary : {\n            // placeholder\n            '+':'#ededed',\n\n            '-':'#ededed',\n            'X':'#505050',\n        },\n        contrast : {\n            // placeholder\n            '+':'#ededed',\n\n            '-':'#ededed',\n            'X':'#505050',\n        }\n    },\n    mview: {\n        primary : {\n            // placeholder\n            '+':'#ededed',\n\n            '.':'#fafafa',\n            '-':'#fafafa',\n            'G':'#33cc00',\n            'A':'#33cc00',\n            'I':'#33cc00',\n            'V':'#33cc00',\n            'L':'#33cc00',\n            'M':'#33cc00',\n            'F':'#009900',\n            'Y':'#009900',\n            'W':'#009900',\n            'H':'#009900',\n            'C':'#ffff00',\n            'P':'#33cc00',\n            'K':'#cc0000',\n            'R':'#cc0000',\n            'D':'#0033ff',\n            'E':'#0033ff',\n            'Q':'#6600cc',\n            'N':'#6600cc',\n            'S':'#0099ff',\n            'T':'#0099ff',\n            'B':'#666666',\n            'Z':'#666666',\n            'X':'#666666',\n            '?':'#999999',\n            '*':'#666666',\n            'U':'#000000'\n        },\n        contrast : {\n            // placeholder\n            '+':'#ededed',\n\n            '.':'#fafafa',\n            '-':'#fafafa',\n            'G':'#fafafa',\n            'A':'#fafafa',\n            'I':'#fafafa',\n            'V':'#fafafa',\n            'L':'#fafafa',\n            'M':'#fafafa',\n            'F':'#fafafa',\n            'Y':'#fafafa',\n            'W':'#fafafa',\n            'H':'#fafafa',\n            'C':'#505050',\n            'P':'#fafafa',\n            'K':'#fafafa',\n            'R':'#fafafa',\n            'D':'#fafafa',\n            'E':'#fafafa',\n            'Q':'#fafafa',\n            'N':'#fafafa',\n            'S':'#fafafa',\n            'T':'#fafafa',\n            'B':'#fafafa',\n            'Z':'#fafafa',\n            'X':'#fafafa',\n            '?':'#fafafa',\n            '*':'#fafafa',\n            'U':'#fafafa'\n        }\n    },\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Paper from '@material-ui/core/Paper';\nimport { withStyles } from '@material-ui/core/styles';\nimport './featureViewer.scss';\n\nconst styles = theme => ({\n    paper: {\n        minHeight: 180\n    }\n});\n\nclass FeatureViewer extends React.Component {\n\n    componentDidMount(){\n        if(this.props.data !== null){\n            this.ft = new window.FeatureViewer(this.props.data.sequence,\n                '#fv1',\n                {\n                    showAxis: true,\n                    showSequence: true,\n                    brushActive: true, //zoom\n                    toolbar:true, //current zoom & mouse position\n                    bubbleHelp:true,\n                    zoomMax:50 //define the maximum range of the zoom\n                });\n        }\n    }\n\n    findIndexes = (string, letters) => {\n        let result = {};\n\n        for(let j=0; j<letters.length;j++) {\n            let indices = [];\n            for(let i=0; i<string.length;i++) {\n                if (string[i] === letters[j]) indices.push(i+1);\n            }\n            result[letters[j]] = indices;\n        }\n\n        return result;\n    };\n\n    findRanges = array => {\n        array.sort((e,i) => e-i);\n\n        let ranges = [{x: array[0], y: array[0]}];\n\n        for(let i=1; i<array.length; i++){\n            let currentRange = ranges[ranges.length-1];\n\n            if(array[i] <= currentRange.y+1){\n                currentRange.y = array[i];\n            } else {\n                ranges.push({x: array[i], y: array[i]});\n            }\n        }\n        return ranges;\n    };\n\n\n    componentWillReceiveProps(newProps){\n        if(newProps.data !== null){\n            this.ft && this.ft.clearInstance();\n            delete this.ft;\n            document.getElementById(\"fv1\").innerHTML = \"\";\n\n            this.ft = new window.FeatureViewer(newProps.data.sequence,\n                '#fv1',\n                {\n                    showAxis: true,\n                    showSequence: true,\n                    brushActive: true, //zoom\n                    toolbar:true, //current zoom & mouse position\n                    bubbleHelp:true,\n                    zoomMax:50 //define the maximum range of the zoom\n                });\n\n            if(newProps.data.predictedDisorder){\n                let disorder = this.findIndexes(newProps.data.predictedDisorder, ['X']);\n\n                this.ft.addFeature({\n                    data: this.findRanges(disorder['X']),\n                    name: \"Disorder\",\n                    color: \"#0F8292\",\n                    type: \"rect\" // ['rect', 'path', 'line']\n                });\n            }\n\n            if(newProps.data.predictedDSSP3){\n                let secondaryStructure3 = this.findIndexes(newProps.data.predictedDSSP3, ['H', 'E', 'C']);\n\n                this.ft.addFeature({\n                    data: this.findRanges(secondaryStructure3['H']),\n                    name: \"DSSP3-Helix\",\n                    color: \"#ccd96a\",\n                    type: \"rect\" // ['rect', 'path', 'line']\n                });\n\n                this.ft.addFeature({\n                    data: this.findRanges(secondaryStructure3['E']),\n                    name: \"DSSP3-Sheet\",\n                    color: \"#d958aa\",\n                    type: \"rect\" // ['rect', 'path', 'line']\n                });\n\n                this.ft.addFeature({\n                    data: this.findRanges(secondaryStructure3['C']),\n                    name: \"DSSP3-Other\",\n                    color: \"#4cd9c2\",\n                    type: \"rect\" // ['rect', 'path', 'line']\n                });\n            }\n\n            // let secondaryStructure8 = this.findIndexes(newProps.data.predictedDSSP8, ['H', 'E', 'C', 'G', 'I', 'B', 'S', 'T']);\n            //\n            // this.ft.addFeature({\n            //     data: this.findRanges(secondaryStructure8['H']),\n            //     name: \"DSSP8-Helix\",\n            //     color: \"#ccd96a\",\n            //     type: \"rect\" // ['rect', 'path', 'line']\n            // });\n            //\n            // this.ft.addFeature({\n            //     data: this.findRanges(secondaryStructure8['E']),\n            //     name: \"DSSP8-Sheet\",\n            //     color: \"#d958aa\",\n            //     type: \"rect\" // ['rect', 'path', 'line']\n            // });\n            //\n            // this.ft.addFeature({\n            //     data: this.findRanges(secondaryStructure8['C']),\n            //     name: \"DSSP8-Other\",\n            //     color: \"#4cd9c2\",\n            //     type: \"rect\" // ['rect', 'path', 'line']\n            // });\n            //\n            // this.ft.addFeature({\n            //     data: this.findRanges(secondaryStructure8['G']),\n            //     name: \"DSSP8-G\",\n            //     color: \"#8ad970\",\n            //     type: \"rect\" // ['rect', 'path', 'line']\n            // });\n            //\n            // this.ft.addFeature({\n            //     data: this.findRanges(secondaryStructure8['I']),\n            //     name: \"DSSP8-I\",\n            //     color: \"#d99657\",\n            //     type: \"rect\" // ['rect', 'path', 'line']\n            // });\n            //\n            // this.ft.addFeature({\n            //     data: this.findRanges(secondaryStructure8['B']),\n            //     name: \"DSSP8-B\",\n            //     color: \"#d95633\",\n            //     type: \"rect\" // ['rect', 'path', 'line']\n            // });\n            //\n            // this.ft.addFeature({\n            //     data: this.findRanges(secondaryStructure8['S']),\n            //     name: \"DSSP8-S\",\n            //     color: \"#6d3bd9\",\n            //     type: \"rect\" // ['rect', 'path', 'line']\n            // });\n            //\n            // this.ft.addFeature({\n            //     data: this.findRanges(secondaryStructure8['T']),\n            //     name: \"DSSP8-T\",\n            //     color: \"#3f54d9\",\n            //     type: \"rect\" // ['rect', 'path', 'line']\n            // });\n        }\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Paper className={classes.paper} elevation={0}>\n                <div className='use-bootstrap' id={\"fv1\"}>\n                </div>\n            </Paper>\n        );\n    }\n}\n\nFeatureViewer.propTypes = {\n    classes: PropTypes.object.isRequired,\n    data: PropTypes.object\n};\n\nexport default withStyles(styles)(FeatureViewer);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport storeComponentWrapper from '../stores/jobDispatcher';\nimport { proteinStatus } from \"../stores/JobParameters\";\nimport classnames from 'classnames';\nimport Paper from '@material-ui/core/Paper';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Grid from '@material-ui/core/Grid';\nimport SequenceHighlighter from \"./SequenceHighlighter\";\nimport {proteinColorSchemes} from \"../utils/Graphics\";\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport FeatureViewer from './FeatureViewer/FeatureViewer';\n\nconst styles = theme => ({\n    paper: {\n        overflowX: 'auto',\n        textAlign: \"center\",\n        paddingTop: theme.spacing.unit,\n        paddingBottom: theme.spacing.unit,\n    },\n    constrainedPaper: {\n        textAlign: \"center\",\n        paddingTop: theme.spacing.unit,\n        paddingBottom: theme.spacing.unit,\n    },\n    text: {\n        width: \"max-content\",\n        margin: \"auto\",\n    },\n    titles: {\n        minWidth: \"12em\"\n    },\n    expansionPanels: {\n        minWidth: \"18em\",\n    },\n    sequenceHighlighter: {\n        margin: 'auto',\n        paddingTop: theme.spacing.unit,\n        paddingLeft: theme.spacing.unit*3,\n        paddingRight: theme.spacing.unit*3,\n        paddingBottom: theme.spacing.unit,\n    },\n    filler: {\n        backgroundColor: \"#ededed\",\n        color: \"#ededed\"\n    }\n});\n\nconst ULR = \"https://api.bioembeddings.com/api/annotations\";\n\nconst placeholder = {\n    sequence: \"+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\",\n    predictedSubcellularLocalizations: \" \",\n    predictedMembrane: \" \",\n    predictedBPO:{},\n    predictedBPOGraphDataString: \"\",\n    predictedCCO:{},\n    predictedCCOGraphDataString: \"\",\n    predictedMFO:{},\n    predictedMFOGraphDataString: \"\",\n    predictedDSSP3: \" \",\n    predictedDSSP8: \" \",\n    predictedDisorder: \" \",\n};\n\n\nclass Features extends React.Component {\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            proteinStatus: this.props.jobParameters.proteinStatus || proteinStatus.NULL,\n            embedder: this.props.jobParameters.embedder || \"seqvec\",\n            sequence: null,\n            features: null,\n            loading: null\n        };\n    }\n\n    getFeatures = (sequence, embedder) => {\n        this.setState({\n            loading: true,\n            features: placeholder\n        }, () => {\n            fetch(ULR, {\n                method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n                mode: \"cors\", // no-cors, cors, *same-origin\n                cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n                credentials: \"same-origin\", // include, *same-origin, omit\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                redirect: \"follow\", // manual, *follow, error\n                referrer: \"no-referrer\", // no-referrer, *client\n                body: JSON.stringify({\n                    \"sequence\": sequence,\n                    \"format\": \"legacy\",\n                    \"model\": embedder\n                }), // body data type must match \"Content-Type\" header\n            })\n                .then(response => response.json())\n                .then(json => {\n\n                    // MAKE string for AMIGO viz\n                    // MFO\n                    let predictedMFOGraphData = {...json.predictedMFO};\n\n                    Object\n                        .keys(predictedMFOGraphData)\n                        .forEach(e => {\n                            let score = predictedMFOGraphData[e];\n                            let newValue = {\n                                \"title\": e + \"<br/>\" + \"score:\" + score,\n                                \"fill\": score>= .28 ? \"#FFFF99\" : \"#E5E4E2\"\n                            };\n\n                            predictedMFOGraphData[e]= newValue\n                        });\n\n                    json['predictedMFOGraphDataString'] = encodeURIComponent(JSON.stringify(predictedMFOGraphData));\n                    // CCO\n                    let predictedCCOGraphData = {...json.predictedCCO};\n\n                    Object\n                        .keys(predictedCCOGraphData)\n                        .forEach(e => {\n                            let score = predictedCCOGraphData[e];\n                            let newValue = {\n                                \"title\": e + \"<br/>\" + \"score:\" + score,\n                                \"fill\": score>= .29 ? \"#FFFF99\" : \"#E5E4E2\"\n                            };\n\n                            predictedCCOGraphData[e]= newValue\n                        });\n\n                    json['predictedCCOGraphDataString'] = encodeURIComponent(JSON.stringify(predictedCCOGraphData));\n                    // BPO\n                    let predictedBPOGraphData = {...json.predictedBPO};\n\n                    Object\n                        .keys(predictedBPOGraphData)\n                        .forEach(e => {\n                            let score = predictedBPOGraphData[e];\n                            let newValue = {\n                                \"title\": e + \"<br/>\" + \"score:\" + score,\n                                \"fill\": score>= .35 ? \"#FFFF99\" : \"#E5E4E2\"\n                            };\n\n                            predictedBPOGraphData[e]= newValue\n                        });\n\n                    json['predictedBPOGraphDataString'] = encodeURIComponent(JSON.stringify(predictedBPOGraphData));\n\n                    this.setState({\n                        features: json,\n                        loading: false\n                    })\n                })\n                .catch(e => {\n                    console.error(e);\n                    this.setState({\n                        loading: false\n                    })\n                })\n            ;\n        });\n    };\n\n    componentWillReceiveProps(nextProps) {\n        let jobParameters = nextProps.jobParameters;\n\n        switch (jobParameters.proteinStatus) {\n            case proteinStatus.UNIPROT:\n            case proteinStatus.AA:\n            case proteinStatus.FASTA:\n            case proteinStatus.MULTIPLESEQUENCES:\n                this.getFeatures(jobParameters.protein.sequence, jobParameters.embedder);\n                break;\n            case proteinStatus.LOADING:\n            case proteinStatus.INVALID:\n            default:\n            // do nothing\n        }\n\n        this.setState({\n            proteinStatus: jobParameters.proteinStatus,\n            sequence: jobParameters.protein && jobParameters.protein.sequence,\n            embedder: jobParameters.embedder\n        });\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        let features = this.state.loading || this.state.features === null ? placeholder : this.state.features;\n\n        let filler = this.state.loading || this.state.features === null;\n\n        return ( <div>\n                {this.state.loading !== null &&\n                <Grid container spacing={16}>\n                    <Grid item xs={12}>\n                        <Paper className={classes.paper} elevation={2}>\n                            <Typography className={classnames(classes.text, classes.titles, filler ? \"animated-background\" : null)} variant={\"h6\"}>\n                                Your sequence\n                            </Typography>\n                            <br/>\n                            <div className={classes.sequenceHighlighter}>\n                                <SequenceHighlighter string={this.state.loading || this.state.sequence === null ? placeholder.sequence : this.state.sequence} proteinColorScheme={proteinColorSchemes['mview']}/>\n                            </div>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Paper className={classes.paper} elevation={2}>\n                            <Grid container spacing={0}>\n                                <Grid item xs={12}>\n                                    <Paper className={classes.paper} elevation={0}>\n                                        <Typography className={classnames(classes.text, filler ? classes.titles : null, filler ? \"animated-background\" : null)} variant={\"h6\"}>\n                                            Protein-level features\n                                        </Typography>\n                                    </Paper>\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <Paper className={classes.paper} elevation={0}>\n                                        <Typography className={classnames(classes.text, filler ? classes.titles : null, filler ? \"animated-background\" : null)} variant={\"h7\"}>\n                                            Via machine learning {\n                                            (this.state.embedder === \"prottrans_t5_bfd\" || this.state.embedder === \"prottrans_bert_bfd\") &&\n                                            \" (using Light Attention)\"\n                                        }\n                                        </Typography>\n                                    </Paper>\n                                </Grid>\n                                <Grid item md={6} xl={6} xs={12}>\n                                    <Paper className={classes.paper} elevation={0}>\n                                        <Typography className={classnames(classes.text, filler ? \"animated-background\" : null)} variant={\"caption\"}>\n                                            Subcellular location\n                                        </Typography>\n                                        <br/>\n                                        <Typography className={classnames(classes.text, filler ? classes.titles : null, filler ? \"animated-background\" : null)} variant={\"h6\"}>\n                                            {features.predictedSubcellularLocalizations}\n                                        </Typography>\n                                    </Paper>\n                                </Grid>\n                                <Grid item md={6} xl={6} xs={12}>\n                                    <Paper className={classes.paper} elevation={0}>\n                                        <Typography className={classnames(classes.text, filler ? \"animated-background\" : null)} variant={\"caption\"}>\n                                            Membrane bound\n                                        </Typography>\n                                        <br/>\n                                        <Typography className={classnames(classes.text, filler ? classes.titles : null, filler ? \"animated-background\" : null)} variant={\"h6\"}>\n                                            {features.predictedMembrane}\n                                        </Typography>\n                                    </Paper>\n                                </Grid>\n                                {Object.keys(features.predictedBPO).length > 0 && Object.keys(features.predictedMFO).length > 0 && Object.keys(features.predictedCCO).length > 0 &&\n                                <Grid item xs={12}>\n                                    <Paper className={classes.paper} elevation={0}>\n                                        <Typography className={classnames(classes.text, filler ? classes.titles : null, filler ? \"animated-background\" : null)} variant={\"h7\"}>\n                                            Via embedding similarity (GoPredSim)\n                                        </Typography>\n                                    </Paper>\n                                </Grid>}\n                                {Object.keys(features.predictedBPO).length > 0 &&\n                                <Grid item md={6} xl={6} xs={12}>\n                                    <Paper className={classes.paper} elevation={0}>\n                                        <Typography\n                                            className={classnames(classes.text, filler ? \"animated-background\" : null)}\n                                            variant={\"caption\"}>\n                                            Biological process (BPO)\n                                        </Typography>\n                                        <br/>\n                                        <Typography\n                                            className={classnames(classes.text, filler ? \"animated-background\" : null)}\n                                            variant={\"body\"}>\n                                            {features.predictedBPOGraphDataString !== \"\" &&\n                                            <a target=\"_blank\"\n                                               href={\"http://amigo.geneontology.org/visualize?inline=false&format=png&mode=amigo&term_data_type=json&term_data=\" + features.predictedBPOGraphDataString}>Open\n                                                Graph</a>}\n                                        </Typography>\n                                        <br/>\n                                        <table\n                                            className={classnames(classes.text, filler ? classes.titles : null, filler ? \"animated-background\" : null)}>\n                                            <tr>\n                                                <th>GO Term</th>\n                                                <th>Reliability Index</th>\n                                            </tr>\n                                            {Object.keys(features.predictedBPO).map(e => <tr key={e}>\n                                                <td><a href={\"http://amigo.geneontology.org/amigo/term/\" + e}\n                                                       target={\"_blank\"}>{e}</a></td>\n                                                <td>{features.predictedBPO[e].toFixed(2)}</td>\n                                            </tr>)}\n                                        </table>\n                                    </Paper>\n                                </Grid>\n                                }\n                                {Object.keys(features.predictedMFO).length > 0 &&\n                                <Grid item md={6} xl={6} xs={12}>\n                                    <Paper className={classes.paper} elevation={0}>\n                                        <Typography\n                                            className={classnames(classes.text, filler ? \"animated-background\" : null)}\n                                            variant={\"caption\"}>\n                                            Molecular function (MFO)\n                                        </Typography>\n                                        <br/>\n                                        <Typography\n                                            className={classnames(classes.text, filler ? \"animated-background\" : null)}\n                                            variant={\"body\"}>\n                                            {features.predictedMFOGraphDataString !== \"\" &&\n                                            <a target=\"_blank\"\n                                               href={\"http://amigo.geneontology.org/visualize?inline=false&format=png&mode=amigo&term_data_type=json&term_data=\" + features.predictedMFOGraphDataString}>Open\n                                                Graph</a>}\n                                        </Typography>\n                                        <br/>\n                                        <table\n                                            className={classnames(classes.text, filler ? classes.titles : null, filler ? \"animated-background\" : null)}>\n                                            <tr>\n                                                <th>GO Term</th>\n                                                <th>Reliability Index</th>\n                                            </tr>\n                                            {Object.keys(features.predictedMFO).map(e => <tr key={e}>\n                                                <td><a href={\"http://amigo.geneontology.org/amigo/term/\" + e}\n                                                       target={\"_blank\"}>{e}</a></td>\n                                                <td>{features.predictedMFO[e].toFixed(2)}</td>\n                                            </tr>)}\n                                        </table>\n                                    </Paper>\n                                </Grid>\n                                }\n                                {Object.keys(features.predictedCCO).length > 0 &&\n                                <Grid item md={6} xl={6} xs={12}>\n                                    <Paper className={classes.paper} elevation={0}>\n                                        <Typography\n                                            className={classnames(classes.text, filler ? \"animated-background\" : null)}\n                                            variant={\"caption\"}>\n                                            Cellular Component (CCO)\n                                        </Typography>\n                                        <br/>\n                                        <Typography\n                                            className={classnames(classes.text, filler ? \"animated-background\" : null)}\n                                            variant={\"body\"}>\n                                            {features.predictedCCOGraphDataString !== \"\" &&\n                                            <a target=\"_blank\"\n                                               href={\"http://amigo.geneontology.org/visualize?inline=false&format=png&mode=amigo&term_data_type=json&term_data=\" + features.predictedCCOGraphDataString}>Open\n                                                Graph</a>}\n                                        </Typography>\n                                        <br/>\n                                        <table\n                                            className={classnames(classes.text, filler ? classes.titles : null, filler ? \"animated-background\" : null)}>\n                                            <tr>\n                                                <th>GO Term</th>\n                                                <th>Reliability Index</th>\n                                            </tr>\n                                            {Object.keys(features.predictedCCO).map(e => <tr key={e}>\n                                                <td><a href={\"http://amigo.geneontology.org/amigo/term/\" + e}\n                                                       target={\"_blank\"}>{e}</a></td>\n                                                <td>{features.predictedCCO[e].toFixed(2)}</td>\n                                            </tr>)}\n                                        </table>\n                                    </Paper>\n                                </Grid>\n                                }\n                            </Grid>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Paper className={classes.paper} elevation={2}>\n                            <Paper className={classes.paper} elevation={0}>\n                                <Typography className={classnames(classes.text, filler ? classes.titles : null, filler ? \"animated-background\" : null)} variant={\"h6\"}>\n                                    Residue-level features\n                                </Typography>\n                            </Paper>\n                            <FeatureViewer data={this.state.features}/>\n                        </Paper>\n                        {features.predictedDSSP3 && (\n                            <ExpansionPanel>\n                                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                                    <Typography className={classnames(classes.text, filler ? classes.expansionPanels : null, filler ? \"animated-background\" : null)}>\n                                        Secondary structure in three states (DSSP3)\n                                    </Typography>\n                                </ExpansionPanelSummary>\n                                <ExpansionPanelDetails>\n                                    <SequenceHighlighter string={features.predictedDSSP3} proteinColorScheme={proteinColorSchemes['dssp8']}/>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        )}\n                        {features.predictedDSSP8 &&\n                        <ExpansionPanel>\n                            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon/>}>\n                                <Typography\n                                    className={classnames(classes.text, filler ? classes.expansionPanels : null, filler ? \"animated-background\" : null)}>\n                                    Secondary structure in eight states (DSSP8)\n                                </Typography>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails>\n                                <SequenceHighlighter string={features.predictedDSSP8}\n                                                     proteinColorScheme={proteinColorSchemes['dssp8']}/>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                        }\n                        {features.predictedDisorder &&\n                        <ExpansionPanel>\n                            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                                <Typography className={classnames(classes.text, filler ? classes.expansionPanels : null, filler ? \"animated-background\" : null)}>\n                                    Disorder prediction\n                                </Typography>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails>\n                                <SequenceHighlighter string={features.predictedDisorder} proteinColorScheme={proteinColorSchemes['disorder']}/>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                        }\n                    </Grid>\n                </Grid>\n                }\n            </div>\n        );\n    }\n}\n\nFeatures.propTypes = {\n    classes: PropTypes.object.isRequired,\n    jobParameters: PropTypes.object\n};\n\nexport default storeComponentWrapper(withStyles(styles)(Features));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport storeComponentWrapper from '../stores/jobDispatcher';\nimport { proteinStatus } from \"../stores/JobParameters\";\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\n\n\nconst styles = theme => ({\n    content: {\n        flex: '1 1 auto',\n    },\n    group: {\n        flexDirection: \"row\",\n        justifyContent: \"center\"\n    }\n});\n\n\nclass EmbedderSelecter extends React.Component {\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            proteinStatus: this.props.jobParameters.proteinStatus || proteinStatus.NULL,\n        };\n\n    }\n\n    componentWillReceiveProps(nextProps) {\n\n        let jobParameters = nextProps.jobParameters;\n\n        this.setState({\n            proteinStatus: jobParameters.proteinStatus,\n            protein: jobParameters.protein\n        })\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        return <div>\n            <RadioGroup\n                aria-label=\"embedder\"\n                className={classes.group}\n                value={this.props.jobParameters.embedder}\n                onChange={(target, value) => {\n                    this.props.action({\n                        type: \"SET_JOB_PARAMETERS\",\n                        payload: {\n                            embedder: value\n                        }\n                    });\n                }}\n            >\n                <FormControlLabel\n                    value=\"seqvec\"\n                    control={<Radio color=\"primary\" />}\n                    label=\"SeqVec\"\n                    labelPlacement=\"start\"\n                />\n                <FormControlLabel\n                    value=\"prottrans_bert_bfd\"\n                    control={<Radio color=\"primary\" />}\n                    label=\"ProtTrans BERT BFD (ProtBert)\"\n                    labelPlacement=\"start\"\n                />\n                <FormControlLabel\n                    value=\"prottrans_t5_xl_u50\"\n                    control={<Radio color=\"primary\" />}\n                    label=\"ProtTrans T5 XL U50 (ProtT5)\"\n                    labelPlacement=\"start\"\n                />\n            </RadioGroup>\n        </div>\n    }\n}\n\nEmbedderSelecter.propTypes = {\n    classes: PropTypes.object.isRequired,\n    jobParameters: PropTypes.object\n};\n\nexport default storeComponentWrapper(withStyles(styles)(EmbedderSelecter));","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from \"@material-ui/core/Typography/Typography\"\nimport Grid from '@material-ui/core/Grid'\nimport SequenceInput from './SequenceInput'\nimport Cite from './Cite'\nimport SequenceStatus from \"./SequenceStatus\"\nimport Features from \"./Features\"\nimport EmbedderSelecter from \"./EmbedderSelecter\";\n\nconst styles = theme => ({\n    attribution: {\n        textAlign: \"center\",\n        marginTop: theme.spacing.unit * 2\n    },\n    root: {\n        maxWidth: 1100,\n        margin: \"auto\",\n        paddingLeft: theme.spacing.unit * 2,\n        paddingRight: theme.spacing.unit * 2\n    },\n    search: {\n        width: \"100%\"\n    },\n    textField: {\n        width: \"100%\",\n        textAlign: \"center\"\n    },\n    fadingComponents: {\n        transition: '.5s'\n    },\n});\n\nconst uniprotRegex = /^[OPQ][0-9][A-Z0-9]{3}[0-9]|[A-NR-Z][0-9]([A-Z][A-Z0-9]{2}[0-9]){1,2}$/;\n\n\nclass App extends React.Component {\n    state = {\n        query: '',\n        valid: true,\n        ready: false\n    };\n\n    timeout = null;\n\n    onQueryChange = (query) => {\n        if(uniprotRegex.test(query)){\n            this.setState({\n                valid: true,\n                ready: true\n            });\n        } else {\n            this.setState({\n                valid: false,\n            })\n        }\n    };\n\n    onInputChange = (event) => {\n        let value = event.target.value;\n\n        if(uniprotRegex.test(value)){\n            this.setState({\n                query: value,\n                ready: false\n            });\n            window.clearTimeout(this.timeout);\n            this.onQueryChange(value)\n        } else {\n            this.setState({\n                query: value,\n                ready: false\n            });\n\n            window.clearTimeout(this.timeout);\n            this.timeout = setTimeout(()=>{\n                this.onQueryChange(value)\n            }, 1000);\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Grid container className={classes.root} spacing={0}>\n                <Grid item xs={12}>\n                    <Grid container className={classes.root} spacing={16}>\n                        <Grid item className={classes.search} xs={12}>\n                            <Grid item xl={12} md={12} xs={12} style={{textAlign: \"center\", marginTop: 30, marginBottom: 30}}>\n                                <Typography component={\"div\"} variant=\"h5\">\n                                    Predict protein properties from embeddings\n                                </Typography>\n                                {/*<Typography component={\"div\"} variant=\"body1\">*/}\n                                {/*    {\"Check out our pre-print \\\"Modeling the Language of Life – Deep Learning Protein Sequences\\\". \"}*/}\n                                {/*    <br/>*/}\n                                {/*    <a href=\"https://doi.org/10.1186/s12859-019-3220-8\" target={\"_blank\"} ref={\"author\"}>*/}\n                                {/*        Click here.*/}\n                                {/*    </a>*/}\n                                {/*</Typography>*/}\n                            </Grid>\n                        </Grid>\n                        <Grid item className={classes.search} xs={12}>\n                            <EmbedderSelecter />\n                        </Grid>\n                        <Grid item className={classes.search} xs={12}>\n                            <SequenceInput />\n                        </Grid>\n                        <Grid item className={classes.search} xs={12}>\n                            <SequenceStatus />\n                        </Grid>\n                        <Grid item className={classes.search} xs={12}>\n                            <Features />\n                        </Grid>\n                        <Grid item className={classes.search} xs={12}>\n                            <Cite/>\n                        </Grid>\n                        <Grid item className={classes.search} xs={12}>\n                            <Typography variant={\"caption\"} className={classes.attribution}>\n                                Website by <a rel=\"noopener noreferrer\" href=\"https://christian.dallago.us\" target=\"_blank\">Christian Dallago</a>.\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </Grid>\n        );\n    }\n}\n\nApp.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import ReactGA from 'react-ga'\n\nconst options = {};\n\nconst trackPage = (page) => {\n    ReactGA.set({\n        page,\n        ...options\n    });\n    ReactGA.pageview(page)\n};\n\nlet currentPage = '';\n\nexport const analyticsPageMiddleware = store => next => action => {\n    if (action.type === '@@router/LOCATION_CHANGE') {\n        const nextPage = `${action.payload.pathname}${action.payload.search}`;\n\n        if (currentPage !== nextPage) {\n            currentPage = nextPage;\n            trackPage(nextPage)\n        }\n    }\n\n    return next(action)\n};","import { createStore , combineReducers, applyMiddleware } from 'redux';\nimport ReactGa from 'react-ga';\nimport { analyticsPageMiddleware } from './analyticsPageMiddleware';\n\nimport JobParameters from './JobParameters';\n\nfunction trackEventInGoogleAnalytics({ getState }) {\n    return next => action => {\n        if (action.type !== '@@router/UPDATE_LOCATION' && action.type !== '@@router/LOCATION_CHANGE' ){\n            ReactGa.event({\n                category: action.type,\n                action: JSON.stringify(action.payload)\n            });\n        }\n\n        return next(action);\n    };\n}\n\nconst reducer = combineReducers({\n    jobParameters: JobParameters,\n});\n\nconst store  = createStore(reducer, applyMiddleware(trackEventInGoogleAnalytics, analyticsPageMiddleware));\n\nexport { store };","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider'\nimport * as serviceWorker from './serviceWorker'\nimport { Provider } from 'react-redux'\nimport { store } from './stores/index'\nimport ReactGA from 'react-ga';\n\n\nReactGA.initialize(process.env.REACT_GA || \"UA-137257046-2\");\n\nReactDOM.render(\n    <Provider store={store}>\n        <MuiThemeProvider>\n            <App />\n        </MuiThemeProvider>\n    </Provider>\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}